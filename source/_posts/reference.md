---
title: C++ 左值引用和右值引用的原理
date: 2024-05-02 08:07:09
tags:
---

不少 C++ 书上对于引用的描述是这样的：

> 引用为对象起了一个别名，当操作引用时候就像在操作引用绑定的对象。

这似乎说的非常玄学，让我们来回顾一下 C 语言是如何传递操作对象的，C 语言在函数中要么就是指针传地址，要么就是浅拷贝。但是一般都是传指针，原因如下

1.  直接传递一般比较耗时，C 编译器不会强制执行 RVO 这种优化
2.  很容易犯错的一个 bug 是在拷贝后以后会修改形参并不会影响到实参。

C++ 引用的的出现，为我们解决的就是上面两个问题，是 C++ 相比于 C 提供的语言层面的语法糖。那么引用（左值引用）和 C++11 新出的右值引用的原理是什么呢？

先说结论：`引用和右值引用本质上都是指针，区别在于引用指向的可访问地址的对象，右值引用则指向匿名对象的地址`。

## 让我们进入 compiler explorer 从汇编的角度来进行理解
